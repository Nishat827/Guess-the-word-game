<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>GuessTheWord</title>

<link rel="stylesheet" type="text/css" href="/css/game-home-page.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script th:inline="javascript">
    window.onload = function checkIfGameOver(){
        var numberOfTriesRemaining = [[${triesLeft}]] ; // Default value if triesLeft is null
        if(numberOfTriesRemaining === 0){
            alert("Game over");
            document.getElementById("guessedChar").disabled = true;
            document.getElementById("try").disabled = true;
        }  
    }
    
    function reloadGame(){
    	window.location.href = "http://localhost:8080/reload";
    }
</script>
</head>
<body>
  <h1 align="center" >Guess The Word</h1>
  <h2 align="center" th:text="${wordToDisplay}">Show random word here</h2>
  <h2 align="right" th:text="'Tries Remaining : ' + ${triesLeft}">Number of tries left</h2>
  <hr>
  <input type="button" value="Reload" class="button" id="button" style="float:right; font-size: 0.9rem;" onclick="reloadGame()">

  <div align="center">
	  <form action="game-home" method="GET">
		  <label>Guess a Character :  </label>
		  <input type="text" name="guessedChar" id="guessedChar">
		  <input type="submit" value="Try" class="button" id="try" onClick="checkIfGameOver()">
	  </form>
  </div>
  
  
</body>
</html>